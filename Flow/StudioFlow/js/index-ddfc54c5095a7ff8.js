(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405,489],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(30441)}])},3419:function(e,t,n){"use strict";n.d(t,{OO:function(){return f},Vg:function(){return u},_2:function(){return c}});var r=n(47568),s=n(97582),o=n(23132),i=new o.r("/api/analytics/ingestion"),a=new o.r("/api/analytics/store");function c(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.defaultPost("home",e)];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.defaultPost("articles",e)];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)((function(e,t){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,a.defaultAuthenticatedPost("journey",e,t)];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}},81968:function(e,t,n){"use strict";n.d(t,{sz:function(){return l}});n(82548),n(52292);var r=n(828),s=n(85893),o=n(67294),i=n(89583),a=n(87218),c=n(41125).theme.extend.colors;function l(e){var t=e.text,n=e.tooltipColor,l=void 0===n?"darkest-plus":n,u=e.disabled,d=e.size,f=void 0===d?16:d,m=e.position,p=void 0===m?"top":m,h=e.color,v=void 0===h?"ui-white":h,x=(0,o.useRef)(),g=(0,r.Z)((0,a.lL)(),1)[0];return(0,o.useEffect)((function(){g(t,x,{backgroundColor:l,position:p})}),[p,g,t,l]),(0,s.jsx)("span",{ref:x,className:"".concat(u?"text-ui-lighter pointer-events-none":"text-ui-white cursor-help"," inline-block"),children:(0,s.jsx)(i.DAO,{size:f,style:{color:c[v]}})})}},92081:function(e,t,n){"use strict";n.d(t,{B:function(){return v}});var r=n(828),s=n(85893),o=n(67294),i=n(89583),a=n(41664),c=n.n(a),l=n(24489),u=n(79550),d=n(45638),f=n(55914),m=n(87249),p=n.n(m),h=n(30120);function v(e){var t,n=e.title,a=e.cover,m=e.duration,v=e.aired_on,x=e.id,g=void 0===x?"":x,y=e.studio,w=e.live,b=void 0!==w&&w,j=e.fromStudio,S=void 0===j||j,T=e.isPrivate,_=void 0!==T&&T,C=e.statistics,k=e.hideStudioIcon,N=void 0!==k&&k,O=e.selectionCallback,P=(0,r.Z)((0,u.U)(),1)[0],D=(0,o.useState)(a),E=D[0],A=D[1],M="/".concat(null===y||void 0===y?void 0:y.name,"/").concat(b?"live":"episodes/".concat(g)),R="/".concat(null===y||void 0===y?void 0:y.name);return(0,o.useEffect)((function(){P&&A((function(e){return setTimeout((function(){return A(e)}),8e3),"/itomeme.png"}))}),[P]),(0,s.jsxs)("div",{title:n,className:"flex flex-col gap-2 ".concat(g?"":"pointer-events-none"," ").concat(b?"animate-appear":""," ").concat(S?p().studioEpisodeCardContainer:p().episodeCardContainer," "),children:[(0,s.jsxs)("div",{className:"relative h-full w-full ".concat(_?"p-1 rounded-lg":""),children:[_&&(0,s.jsx)("div",{className:"flex absolute top-0 left-0 w-full h-full bg-ui-venus rounded-lg"}),_&&(0,s.jsx)("div",{className:"flex absolute -top-4 right-0 justify-center items-center pb-1 h-6 text-12 font-semibold leading-3 text-center text-white uppercase bg-ui-venus rounded-t-lg w-[4.25rem]",children:"ESPECIAL"}),(0,s.jsx)(c(),{href:M,children:(0,s.jsx)("a",{onClick:function(){return O&&O(g)},children:(0,s.jsxs)("div",{className:"relative w-full aspect-video h-full cursor-pointer select-none skeletable ".concat(_?"rounded-lg":""),children:[a&&(0,s.jsx)(f.JG,{className:" ".concat(_?"rounded":""," w-full h-full absolute top-0 left-0 object-cover"),fallbackSrc:"https://cdn.flowpodcast.com.br/assets/nv99/tela_404.png",src:E},E),b&&(0,s.jsx)(l.Aj,{className:"absolute ".concat(_?"left-1 top-1":"left-0 top-0"),colorClass:"bg-negative-base",text:"AO VIVO"}),m&&(0,s.jsx)("div",{className:"absolute right-0.5 bottom-0.5 py-0.5 px-1 text-12 font-semibold text-white bg-ui-darkest-plus",children:m}),(null===C||void 0===C?void 0:C.views)&&(0,s.jsxs)("div",{className:"flex absolute bottom-0.5 left-0.5 gap-1 py-0.5 px-1 text-12 font-semibold text-white bg-ui-darkest-plus",children:[(0,s.jsx)(i.dSq,{})," ",(0,d.v)(null===C||void 0===C?void 0:C.views)]})]})})})]}),(0,s.jsxs)("div",{className:"flex gap-2 h-full w-[inherit]",children:[!N&&(0,s.jsx)(c(),{href:R,children:(0,s.jsx)("a",{children:(0,s.jsx)("div",{className:"relative flex-shrink-0 w-12 md:w-8 lg:w-12 h-12 md:h-8 lg:h-12 rounded-full cursor-pointer select-none skeletable round-full",children:(0,s.jsx)(f.JG,{fallbackSrc:"https://cdn.flowpodcast.com.br/assets/images/default_thumb_hq.jpg",className:"object-fill absolute top-0 left-0 w-full h-full rounded-full",src:null!==(t=null===y||void 0===y?void 0:y.icon)&&void 0!==t?t:"https://cdn.flowpodcast.com.br/assets/images/default_thumb_hq.jpg"})})})}),(0,s.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1",children:[(0,s.jsx)(c(),{href:M,children:(0,s.jsx)("a",{onClick:function(){return O&&O(g)},children:(0,s.jsx)("p",{className:"self-start w-full max-h-9 text-14 md:text-12 lg:text-14 font-medium text-white cursor-pointer line-clamp-2 skeletable round",children:n})})}),(0,s.jsxs)("a",{href:R,className:"w-full text-12 md:text-10 lg:text-12 font-medium leading-4 text-ui-lightest cursor-pointer skeletable round",children:[null===y||void 0===y?void 0:y.label," - ",v?b?h.ou.fromISO(v).setZone("America/Sao_Paulo").setLocale("pt-BR").toRelative():h.ou.fromISO(v).setZone("America/Sao_Paulo").setLocale("pt-BR").toFormat("dd/MM/yyyy"):""]})]})]})]})}},61663:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(85893),s=n(67294),o=n(81968),i=n(78519),a=n(41125),c=a.theme.extend.colors;function l(e){var t=e.title,n=e.infoText,a=e.titleColor,l=void 0===a?"ui-white":a,u=e.titleSizeClass,d=void 0===u?"text-24 leading-8 font-bold":u,f=e.RenderedOptions,m=e.isShorter,p=void 0!==m&&m,h=e.footerContent,v=e.noContent,x=void 0!==v&&v,g=(0,s.useState)(!1),y=g[0],w=g[1];return(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-end mb-3",style:{color:c[l]},children:[(0,r.jsxs)("h1",{className:"flex gap-3 justify-between items-center font-sans font-bold ".concat(d),children:[t," ",n&&(0,r.jsx)(o.sz,{text:n,color:l})]}),(0,r.jsx)("div",{className:"flex justify-center items-center m-2 h-full cursor-pointer",onClick:function(){return w((function(e){return!e}))},children:(0,r.jsx)(i.K5,{height:20,className:"text-[".concat(c[l],"] transition-transform ").concat(y?"-rotate-90":"")})})]}),!y&&(0,r.jsx)("div",{className:"flex flex-col gap-3.5 items-center",children:x?(0,r.jsx)("p",{className:"font-sans text-16 text-white",children:"Nenhum resultado encontrado."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 gap-3 gap-y-4 justify-start w-full ".concat(p?"xl:grid-cols-4 sm:grid-cols-2 md:grid-cols-3":"xl:grid-cols-5 sm:grid-cols-3 md:grid-cols-4"),children:f}),h]})}),(0,r.jsx)("hr",{className:"mt-4 border-ui-darker"})]})}},79550:function(e,t,n){"use strict";n.d(t,{U:function(){return l},n:function(){return u}});var r=n(828),s=n(29815),o=n(67294),i=n(4480),a=["KeyA","KeyB","ArrowRight","ArrowLeft","ArrowRight","ArrowLeft","ArrowDown","ArrowDown","ArrowUp","ArrowUp"],c=(0,i.cn)({key:"KonamiAtom",default:!1}),l=function(){return(0,i.FV)(c)},u=function(){var e=function(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=(0,o.useCallback)((function(e){var t=e.code;return setTimeout((function(){return n(t)}),35)}),[]),s=(0,o.useCallback)((function(){return n(null)}),[]);return(0,o.useEffect)((function(){return window.document.addEventListener("keydown",r),window.document.addEventListener("keyup",s),function(){window.document.removeEventListener("keydown",r),window.document.removeEventListener("keyup",s)}}),[r,s]),t}(),t=(0,r.Z)(l(),2),n=t[0],i=t[1],c=(0,o.useState)([]),u=c[0],d=c[1];return(0,o.useEffect)((function(){null!=e&&d((function(t){return[e].concat((0,s.Z)(t)).slice(0,10)}))}),[e]),(0,o.useEffect)((function(){JSON.stringify(u)===JSON.stringify(a)&&i(!0)}),[u,i]),{konamiActive:n}}},30441:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return F},default:function(){return B}});var r=n(47568),s=n(26042),o=n(69396),i=n(29815),a=n(97582),c=n(85893),l=n(67294),u=n(98130),d=n(9669),f=n.n(d),m=n(41664),p=n.n(m),h=n(60851),v=n(28256),x=n(53615),g=n(79550),y=n(58385),w=n(3419),b=n(55509),j=n(50101),S=n(39167),T=n(81968),_=n(92081),C=n(55914),k=n(61663),N=n(66979),O=n(20740),P=n(78519),D=n(33586),E=n(30120),A=n(95591),M=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,D.LP)(N.O,!0)];case 2:return t=s.sent(),[3,4];case 3:return n=s.sent(),console.log(n),[3,4];case 4:return r={headers:{"X-Firebase-AppCheck":null===t||void 0===t?void 0:t.token}},[2,f().get(e,r).then((function(e){return e.data}))]}}))}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,b.dB)(e)];case 1:return t=n.sent(),[2,t.sort((function(e,t){return e.aired_on<t.aired_on?1:-1})).map((function(e){return(0,o.Z)((0,s.Z)({},e),{studio:(0,o.Z)((0,s.Z)({},e.studio),{verified:!1})})}))]}}))}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((function(e,t){var n,r;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:n=(0,S.YZ)().toISO(),r={selected:e,options:t,created_at:n},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,w._2)(r)];case 2:return s.sent(),[3,4];case 3:return s.sent(),console.log("Choices not ingested"),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();function I(e){var t=e.allOptionIds,n=e.cardsList,r=e.isLive,i=void 0!==r&&r;return(0,c.jsx)(c.Fragment,{children:n.map((function(e){var n,r,a={views:(null===e||void 0===e||null===(n=e.statistics)||void 0===n?void 0:n.views)?null===e||void 0===e||null===(r=e.statistics)||void 0===r?void 0:r.views:null===e||void 0===e?void 0:e.views};return(0,c.jsx)(_.B,(0,o.Z)((0,s.Z)({},e),{live:i,statistics:a,selectionCallback:function(e){Z(e,t)}}),"card-".concat(e.id))}))})}function L(e){var t=e.categoryTitle,n=e.categoryInfo,s=e.initialCardsList,o=e.dataFetch,u=e.liveOptionIds,d=(0,l.useState)(!1),f=d[0],m=d[1],p=(0,l.useState)(!0),v=p[0],x=p[1],g=(0,l.useState)(s),y=g[0],w=g[1],b=(0,l.useCallback)((0,r.Z)((function(){var e;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),m(!0),[4,o({per_page:25,next_page:y[y.length-1].aired_on})];case 1:return 0===(e=t.sent()).length&&x(!1),w((function(t){return(0,i.Z)(t).concat((0,i.Z)(e))})),m(!1),[3,3];case 2:return t.sent(),m(!1),[3,3];case 3:return[2]}}))})),[o,y]);return(0,c.jsx)(k.L,{RenderedOptions:I({cardsList:y,allOptionIds:(0,i.Z)(u).concat((0,i.Z)(y.map((function(e){return e.id}))))}),title:t,infoText:n,footerContent:(0,c.jsx)("div",{className:"flex flex-col gap-4 mb-2 h-5 select-none",children:o&&v&&(0,c.jsx)("div",{className:"flex justify-center items-center w-full select-none  ".concat(f?"":"cursor-pointer"),onClick:function(){return!f&&b()},children:f?(0,c.jsx)(h.tx,{color:"white",size:14}):(0,c.jsxs)("div",{className:"flex gap-2 justify-center items-center select-none",children:[(0,c.jsx)("p",{className:"text-14 font-semibold text-ui-lightest select-none",children:"Ver mais"}),(0,c.jsx)(P.K5,{})]})})})})}function z(){var e=(0,A.ZP)("https://api.nv99.com.br/v1/main/battle/badges/list",M,{revalidateOnMount:!1,refreshInterval:1e4,revalidateOnFocus:!1,revalidateOnReconnect:!1}),t=e.data,n=e.error,r=e.isLoading,s=[];return n||t&&(s=null===t||void 0===t?void 0:t.badges),(0,c.jsxs)("div",{className:"hidden lg:block text-white",children:[(0,c.jsxs)("p",{className:"flex gap-3 justify-start items-center font-sans text-24 font-bold leading-8",children:["Batalha de Emblemas ",(0,c.jsx)(T.sz,{text:"Um minigame para a comunidade selecionar seus emblemas favoritos",color:"ui-white"})]}),(0,c.jsx)("p",{className:"flex gap-3 justify-between items-center font-sans text-14 leading-5",children:(0,c.jsx)(p(),{className:"text-14",href:"/market",children:(0,c.jsx)("a",{className:"text-14",href:"/market",children:"Participe voc\xea tamb\xe9m, acesse o mercado e vote!"})})}),(0,c.jsxs)("div",{className:"".concat(r||0===s.length?"skeleton":""," grid grid-cols-5 gap-4 mt-2"),children:[(r||0===s.length)&&Array.from({length:5}).map((function(e,t){return(0,c.jsx)(O.BattleBadgeCard,{secret:!1,src:"",losses:0,wins:0,score:0,code:"carregando"},"badge-card-".concat(t))})),s.length>0&&s.map((function(e,t){var n;if(t<5)return(0,c.jsx)("div",{children:(0,c.jsx)(p(),{href:"/badge/".concat(e.code),children:(0,c.jsx)("a",{href:"/badge/".concat(e.code),children:(0,c.jsx)(O.BattleBadgeCard,{losses:e.losses,wins:e.wins,score:e.score,secret:e.secret,src:null!==(n=e.high)&&void 0!==n?n:e.src,code:e.code})})})},"badge-battle-card-".concat(e.code))}))]})]})}var F=!0;function B(e){var t=e.logo294Src,n=e.episodes,s=e.lives,o=e.hypedEpisodes,d=(0,y.aC)(),f=d.atomicAuthUser,m=(d.atomicLoadingSession,(0,v.T)().handleToast),p=(0,l.useState)(!1),w=p[0],b=p[1],S=(0,l.useState)(null),T=S[0],_=S[1],N=(0,l.useState)(!1),O=N[0],D=N[1],A=(0,l.useState)(null),M=A[0],Z=A[1];(0,g.n)();var F,B=(0,x.Z)(),U=B.data,H=B.mutating,V=B.mutate,K=B.unsubscribe,q=(0,l.useMemo)((function(){return(null!==U&&void 0!==U?U:s).map((function(e){var t;return{key:e._id,studio:e.studio,title:e.title,cover:e.cover,aired_on:null!==(F=e.last_event)&&void 0!==F?F:e.updated_at,id:e.live_id,isPrivate:e.private_live,views:null===e||void 0===e||null===(t=e.statistics)||void 0===t?void 0:t.views}}))}),[s,U]),J=(0,l.useCallback)((0,r.Z)((function(){var e,t,n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:if(!f)return[3,5];r.label=1;case 1:return r.trys.push([1,4,,5]),t=[f.email],[4,f.getIdToken()];case 2:return[4,j.l9.apply(void 0,t.concat(r.sent()))];case 3:return e=r.sent(),_(e.daily_reward),[3,5];case 4:return n=r.sent(),console.log(n),_({day:E.ou.now().setZone("America/Sao_Paulo").toFormat("dd/MM/yyyy"),redeemed:!1,last_rewards:[]}),[3,5];case 5:return[2]}}))})),[f]);(0,l.useEffect)((function(){q.length>0?b(!1):H||0!==q.length||b(!0)}),[H,q]),(0,l.useEffect)((function(){if(f){J();var e=E.ou.now().plus({day:1}).setZone("America/Sao_Paulo").toFormat("yyyy-MM-dd");Z("".concat(e,"T00:00:00.000-03:00"))}}),[f,J]),(0,l.useEffect)((function(){V("live_view",{where:[["liveBroadcastContent","==","live"]]})}),[V]),(0,l.useEffect)((function(){return function(){return K()}}),[K]);var G=function(){var e=(0,r.Z)((function(){var e,t,n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:D(!0),r.label=1;case 1:return r.trys.push([1,4,,5]),t=[f.email],[4,f.getIdToken()];case 2:return[4,j.gy.apply(void 0,t.concat(r.sent()))];case 3:return e=r.sent(),_(e.daily_reward),m("Presen\xe7a Confirmada! Continue assim e fique de olho nas pr\xf3ximas recompensas!","confirmation"),D(!1),[3,5];case 4:return n=r.sent(),console.log(n),D(!1),[3,5];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.jsx)(C.Kp,{showBanner:!0,context:"user",navContext:"Home",title:"Home",children:(0,c.jsxs)("main",{className:"flex flex-col gap-6 px-4 xl:px-0 pt-5 mt-2 w-full",children:[(0,c.jsx)(P.C3,{src:t}),!w&&(0,c.jsx)(k.L,{title:"Ao vivo",isShorter:!0,RenderedOptions:I({isLive:!0,cardsList:q,allOptionIds:(0,i.Z)(q.map((function(e){return e.id}))).concat((0,i.Z)(n.map((function(e){return e.id}))))})}),f&&T&&(0,c.jsxs)("div",{className:"text-white",children:[(0,c.jsx)("h1",{className:"flex gap-3 justify-between items-center font-sans text-24 font-bold leading-8",children:"Recompensas di\xe1rias"}),(0,c.jsxs)("div",{className:"flex overflow-x-auto justify-start py-6",children:[T.last_rewards&&Object.keys(T.last_rewards).length>0&&Object.keys(T.last_rewards).map((function(e,t){return(0,c.jsx)("div",{className:"mr-4",children:(0,c.jsxs)("div",{className:"p-2 md:py-3 md:px-3 w-full md:w-36 rounded-xl bg-stone-900",children:[(0,c.jsx)("div",{title:T.last_rewards[e].iso_date,className:"text-sm text-center line-clamp-1",children:T.last_rewards[e].iso_date}),(0,c.jsx)("div",{title:T.last_rewards[e].redeemed?"Resgatado":"N\xe3o Resgatado",className:"text-sm text-center line-clamp-1",children:T.last_rewards[e].redeemed?"Resgatado":"N\xe3o Resgatado"})]})},t)})),(0,c.jsxs)("div",{onClick:function(){return T.redeemed?m("Voc\xea j\xe1 Resgatou a Recompensa de Hoje!","error"):G()},className:"p-2 md:py-3 md:px-3 w-full md:w-36 rounded-xl bg-stone-800 ".concat(T.redeemed?"":"cursor-pointer"),children:[(0,c.jsx)("div",{title:T.day,className:"text-sm text-center line-clamp-1",children:T.day}),O&&(0,c.jsx)("div",{className:"text-sm text-center line-clamp-1",children:(0,c.jsx)(h.tx,{color:"white",size:14})}),!O&&(0,c.jsx)("div",{title:T.redeemed?"Resgatado":"Resgatar",className:"text-center text-sm line-clamp-1 ".concat(T.redeemed?"":"font-bold"),children:T.redeemed?"Resgatado":"Resgatar"})]}),M&&(0,c.jsxs)("div",{className:"p-2 md:py-3 md:px-3 ml-4 w-full md:w-52 rounded-xl bg-stone-800",children:[(0,c.jsx)("div",{className:"text-sm text-center line-clamp-1",children:"Pr\xf3xima Recompensa em:"}),(0,c.jsx)("div",{className:"text-sm text-center line-clamp-1",children:(0,c.jsx)(u.ZP,{date:M})})]})]})]}),o.length>0&&(0,c.jsx)(L,{liveOptionIds:q.map((function(e){return e.id})),initialCardsList:o,categoryTitle:"Mais hypados",categoryInfo:"Videos mais acessados nas \xfaltimas 24 horas."}),(0,c.jsx)(z,{}),(0,c.jsx)(L,{liveOptionIds:q.map((function(e){return e.id})),initialCardsList:n.sort((function(e,t){return e.aired_on===t.aired_on?0:e.aired_on<t.aired_on?1:-1})),categoryTitle:"Mais recentes",dataFetch:R})]})})}},87249:function(e){e.exports={episodeCardContainer:"style_episodeCardContainer__pC547",studioEpisodeCardContainer:"style_studioEpisodeCardContainer__TMHdF"}},98130:function(e,t,n){"use strict";var r=n(67294),s=n(45697);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var s=l(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return d(this,n)}}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),s=r?r[1]:"",o=r?r[3]:"",i=r?r[2]:n,a=i.length>=t?i:(m(Array(t)).map((function(){return"0"})).join("")+i).slice(-1*t);return"".concat(s).concat(a).concat(o)}var v={daysInHours:!1,zeroPadTime:2};function x(e,t){var n=e.days,r=e.hours,s=e.minutes,o=e.seconds,i=Object.assign(Object.assign({},v),t),a=i.daysInHours,c=i.zeroPadTime,l=i.zeroPadDays,u=void 0===l?c:l,d=Math.min(2,c),f=a?h(r+24*n,c):h(r,d);return{days:a?"":h(n,u),hours:f,minutes:h(s,d),seconds:h(o,d)}}var g=function(e){c(n,e);var t=f(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return a(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,r.cloneElement)(this.props.children,{count:this.state.count}):null}}]),n}(r.Component);g.propTypes={count:s.number,children:s.element,onComplete:s.func};var y=function(e){c(n,e);var t=f(n);function n(e){var s;if(o(this,n),(s=t.call(this,e)).mounted=!1,s.initialTimestamp=s.calcOffsetStartTimestamp(),s.offsetStartTimestamp=s.props.autoStart?0:s.initialTimestamp,s.offsetTime=0,s.legacyMode=!1,s.legacyCountdownRef=(0,r.createRef)(),s.tick=function(){var e=s.calcTimeDelta(),t=e.completed&&!s.props.overtime?void 0:s.props.onTick;s.setTimeDeltaState(e,void 0,t)},s.start=function(){if(!s.isStarted()){var e=s.offsetStartTimestamp;s.offsetStartTimestamp=0,s.offsetTime+=e?s.calcOffsetStartTimestamp()-e:0;var t=s.calcTimeDelta();s.setTimeDeltaState(t,"STARTED",s.props.onStart),s.props.controlled||t.completed&&!s.props.overtime||(s.clearTimer(),s.interval=window.setInterval(s.tick,s.props.intervalDelay))}},s.pause=function(){s.isPaused()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.setTimeDeltaState(s.state.timeDelta,"PAUSED",s.props.onPause))},s.stop=function(){s.isStopped()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.offsetTime=s.offsetStartTimestamp-s.initialTimestamp,s.setTimeDeltaState(s.calcTimeDelta(),"STOPPED",s.props.onStop))},s.isStarted=function(){return s.isStatus("STARTED")},s.isPaused=function(){return s.isStatus("PAUSED")},s.isStopped=function(){return s.isStatus("STOPPED")},s.isCompleted=function(){return s.isStatus("COMPLETED")},e.date){var i=s.calcTimeDelta();s.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else s.legacyMode=!0;return s}return a(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,n=e.now,r=e.precision,s=e.controlled,o=e.overtime;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.now,s=void 0===r?Date.now:r,o=n.precision,i=void 0===o?0:o,a=n.controlled,c=n.offsetTime,l=void 0===c?0:c,u=n.overtime;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,a||(t+=l);var d=a?t:t-s(),f=Math.min(20,Math.max(0,i)),m=Math.round(1e3*parseFloat(((u?d:Math.max(0,d))/1e3).toFixed(f))),p=Math.abs(m)/1e3;return{total:m,days:Math.floor(p/86400),hours:Math.floor(p/3600%24),minutes:Math.floor(p/60%60),seconds:Math.floor(p%60),milliseconds:Number((p%1*1e3).toFixed()),completed:m<=0}}(t,{now:n,precision:r,controlled:s,offsetTime:this.offsetTime,overtime:o})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,n){var r=this;if(this.mounted){var s=e.completed&&!this.state.timeDelta.completed,o=e.completed&&"STARTED"===t;s&&!this.props.overtime&&this.clearTimer();return this.setState((function(n){var s=t||n.status;return e.completed&&!r.props.overtime?s="COMPLETED":t||"COMPLETED"!==s||(s="STOPPED"),{timeDelta:e,status:s}}),(function(){n&&n(r.state.timeDelta),r.props.onComplete&&(s||o)&&r.props.onComplete(e,o)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,n=e.zeroPadTime,r=e.zeroPadDays,s=this.state.timeDelta;return Object.assign(Object.assign({},s),{api:this.getApi(),props:this.props,formatted:x(s,{daysInHours:t,zeroPadTime:n,zeroPadDays:r})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,n=e.children,s=e.onComplete;return(0,r.createElement)(g,{ref:this.legacyCountdownRef,count:t,onComplete:s},n)}var o=this.props,i=o.className,a=o.overtime,c=o.children,l=o.renderer,u=this.getRenderProps();if(l)return l(u);if(c&&this.state.timeDelta.completed&&!a)return(0,r.cloneElement)(c,{countdown:u});var d=u.formatted,f=d.days,m=d.hours,p=d.minutes,h=d.seconds;return(0,r.createElement)("span",{className:i},u.total<0?"-":"",f,f?":":"",m,":",p,":",h)}}]),n}(r.Component);y.defaultProps=Object.assign(Object.assign({},v),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),y.propTypes={date:(0,s.oneOfType)([(0,s.instanceOf)(Date),s.string,s.number]),daysInHours:s.bool,zeroPadTime:s.number,zeroPadDays:s.number,controlled:s.bool,intervalDelay:s.number,precision:s.number,autoStart:s.bool,overtime:s.bool,className:s.string,children:s.element,renderer:s.func,now:s.func,onMount:s.func,onStart:s.func,onPause:s.func,onStop:s.func,onTick:s.func,onComplete:s.func},t.ZP=y}},function(e){e.O(0,[5591,962,5796,740,9774,2888,179],(function(){return t=48312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);