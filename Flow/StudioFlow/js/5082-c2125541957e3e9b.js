(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5082],{70287:function(e,t,n){"use strict";n.d(t,{R:function(){return b}});var r=n(47568),i=n(26042),a=n(69396),o=n(99534),c=n(828),u=n(29815),l=n(97582),s=n(85893),d=n(67294),f=n(54580),h=n(60851),m=n(65033),g=n(28256),x=n(94321),p=n(4480);function v(e){var t=e.onLogin,n=(0,g.T)(),r=n.openLoginModal,i=n.openRegisterModal;return(0,s.jsxs)("div",{className:"flex flex-col gap-8 justify-center items-center",children:[(0,s.jsx)("p",{className:"text-14 font-medium text-center text-ui-white",children:"Para prosseguir, crie sua conta ou fa\xe7a login"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(m.X4,{onClick:function(){return i(t)},className:"h-8",fluidWidth:"18rem",color:"confirmation",children:"Cadastre-se"}),(0,s.jsx)(m.X4,{onClick:function(){return r(t)},className:"h-8",fluidWidth:"18rem",color:"base",children:"Fa\xe7a Login"})]})]})}function b(e){var t=e.pages,n=e.hiddenPages,r=e.initialContext,l=void 0===r?{}:r,h=e.initialPage,m=(0,o.Z)(e,["pages","hiddenPages","initialContext","initialPage"]),g=(0,p.sJ)(f.Wx),v=(0,p.sJ)(f.W_),b=(0,c.Z)((0,x.P)((0,a.Z)((0,i.Z)({},m),{pages:["LoginPage"].concat((0,u.Z)(t)),hiddenPages:n?["LoginPage"].concat((0,u.Z)(n)):["LoginPage"],initialContext:l,initialPage:"LoginPage"})),3),C=b[0],y=b[1],N=b[2];return[function(e){var n=e.children;return(0,d.useLayoutEffect)((function(){v||g||N("LoginPage")}),[]),(0,s.jsxs)(C,{children:[(0,s.jsx)(k,{initialPage:h,pages:t}),n]})},y]}function k(e){var t,n=e.NV99MultiModalPage,i=e.updateContext,a=e.context,o=e.pages,c=e.openPage,u=e.initialPage,m=(0,p.sJ)(f.Wx),g=(0,p.sJ)(f.W_),x=(0,p._8)((function(e){var t=e.snapshot;return(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,t.getPromise(f.ad)]}))}))}),[]),b=(0,p._8)((function(e){var t=e.snapshot;return(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,t.getPromise(f.NC)]}))}))}),[]),k=(0,d.useCallback)((function(){i({getAuthUser:b,getUser:x}),c(null!==u&&void 0!==u?u:o[0])}),[b,x,u,c,o,i]);return(0,d.useLayoutEffect)((function(){g||m&&k()}),[k,m,g]),(0,s.jsx)(n,{maxWidthInRem:25,forceMaxHeight:!0,maxHeightInRem:17.125,zIndex:1,heading:null!==(t=a.heading)&&void 0!==t?t:"",centerContent:!0,children:g?(0,s.jsx)(h.Zi,{size:64}):(0,s.jsx)(v,{onLogin:function(){return c(null!==u&&void 0!==u?u:o[0])}})})}},96039:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(14924),i=n(85893),a=n(67294),o=n(41125),c=n(5490),u=n.n(c),l=o.theme.extend.colors,s=(0,a.forwardRef)((function(e,t){var n,a=e.variant,o=void 0===a?"primary":a,c=e.name,s=e.id,d=e.onChange,f=void 0===d?function(){}:d,h=e.onClick,m=void 0===h?function(){}:h,g=e.disabled,x=e.checked,p={primary:{button:{on:l["primary-base"],off:l["ui-lightest"]},background:{on:l["primary-light"],off:l["ui-light"]}}};return(0,i.jsxs)("label",{className:"h-5 w-[2.125rem] relative flex items-center ".concat(g?"cursor-not-allowed":"cursor-pointer"),htmlFor:s,style:(n={},(0,r.Z)(n,"--button-color-off",g?l["ui-lighter"]:p[o].button.off),(0,r.Z)(n,"--button-color-on",g?l["ui-lighter"]:p[o].button.on),(0,r.Z)(n,"--background-color-off",g?l["ui-light"]:p[o].background.off),(0,r.Z)(n,"--background-color-on",g?l["ui-light"]:p[o].background.on),n),children:[(0,i.jsx)("input",{type:"checkbox",id:s,name:c,className:"hidden ".concat(u().toggleCheckbox),ref:t,onChange:f,checked:x,disabled:g}),(0,i.jsx)("button",{disabled:g,className:"absolute w-5 h-5 rounded-full focus:outline-white pointer-events-none",onClick:m,type:"button"}),(0,i.jsx)("div",{className:"h-3.5",style:{borderRadius:"7px",width:"2.125rem"}})]})}))},53650:function(e,t,n){"use strict";n.d(t,{MM:function(){return x},GA:function(){return g},qm:function(){return p}});var r=n(26042),i=n(99534),a=n(828),o=n(85893),c=n(67294),u=n(89583),l=n(41125),s=n(81126),d=n(5490),f=n.n(d),h=n(96039),m=l.theme.extend.colors;function g(e){var t=e.className,n=e.enableZero,r=void 0!==n&&n,i=e.showStepper,a=void 0===i||i,l=e.shouldShowError,d=void 0===l||l,f=e.name,h=e.disabled,g=e.inputBackgroundColor,x=void 0===g?"ui-darker":g,p=e.stateProps,v=e.inputProps,b=e.width,k=e.inputWidth,C=e.buttonSize,y=e.id,N=(0,c.useRef)(null),_=(0,s.U$)(f),j=_.fieldName,w=_.registerField,P=_.error,Z=function(e){p.callback&&p.callback(e),p.setState(e)};return(0,c.useEffect)((function(){w({name:j,ref:N,getValue:function(e){return e.current.value},setValue:function(e,t){e.current.value=t},clearValue:function(e){e.current.value=null}})}),[j,w]),(0,o.jsxs)("div",{className:"flex flex-col gap-2 justify-center items-center ".concat(t),style:b?{width:b}:{width:"auto"},children:[(0,o.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[a&&(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("button",{type:"button",disabled:!r&&(null===p||void 0===p?void 0:p.value)<=1,onClick:function(){return function(){var e=p.value;p?v&&v.min>=e-1?Z(v.min):Z(e-1):N.current.stepUp()}()},children:(0,o.jsx)(u.iFH,{size:C})})}),(0,o.jsx)("input",{disabled:h,className:"p-1 h-8 text-center text-white rounded",style:k?{width:k,backgroundColor:m[x]}:{width:"auto",backgroundColor:m[x]},value:p?p.value:void 0,onBlur:function(e){var t=parseInt(N.current.value,10);if(t=t<(null===v||void 0===v?void 0:v.min)?v.min:t>(null===v||void 0===v?void 0:v.max)?v.max:t,t=isNaN(t)?0:t,N.current.value=t,p)return p.setState(t)},onChange:function(e){"undefined"===e.target.value&&(document.body.style.transform="scale(-1)"),null===p||void 0===p||p.setState(parseInt(e.target.value))},ref:N,min:v?v.min:null,id:y,max:v?v.max:null,step:v?v.step:null,type:"number"}),a&&(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("button",{type:"button",onClick:function(){return function(){var e=p.value;p?v&&v.max<=e+1?Z(v.max):Z(e+1):N.current.stepUp()}()},children:(0,o.jsx)(u.wEH,{size:C})})})]}),d&&(0,o.jsx)("p",{className:"w-full h-4 text-14 font-normal text-negative-lighter whitespace-nowrap",children:null!==P&&void 0!==P?P:""})]})}function x(e){var t=e.name,n=e.label,u=void 0===n?"":n,l=e.onClick,d=e.controlledState,h=e.checkBoxPosition,g=void 0===h?"center":h,x=e.className,p=void 0===x?"":x,v=e.disabled,b=void 0!==v&&v,k=e.textSize,C=void 0===k?12:k,y=e.checkBoxColor,N=void 0===y?"ui-white":y,_=e.dontRegister,j=void 0!==_&&_,w=(0,i.Z)(e,["name","label","onClick","controlledState","checkBoxPosition","className","disabled","textSize","checkBoxColor","dontRegister"]),P=(0,c.useRef)(null),Z=(0,s.U$)(t),E=Z.fieldName,L=Z.registerField,S=Z.error,I=Z.clearError,V=(0,c.useState)(!1),M=(0,a.Z)(null!==d&&void 0!==d?d:V,2),F=M[0],R=M[1];return(0,c.useEffect)((function(){j||L({name:E,ref:P,getValue:function(e){return e.current.checked},setValue:function(e,t){e.current.checked=t||!e.current.checked},clearValue:function(e){e.current.checked=!1}})}),[j,E,L]),(0,o.jsxs)("div",{className:"flex flex-col gap-5 ".concat(S?"text-negative-lighter":""," ").concat(p),children:[(0,o.jsxs)("label",{htmlFor:t,className:"flex items-center text-xs leading-4 ".concat(b?"":"cursor-pointer"," select-none"),children:[(0,o.jsx)("input",(0,r.Z)({disabled:b,onClick:function(){l&&l(),I()},type:"checkbox",style:{"--checkColor":m[N]},className:"".concat(f().checkboxInput," ").concat(S?f().error:""," ").concat(b?"":"cursor-pointer"," ").concat("start"===g&&"self-start"),name:t,id:t,ref:P,value:t,onChange:function(e){return R(e.target.checked)},checked:F},w)),(0,o.jsx)("p",{style:{fontSize:C},className:"font-normal leading-[1.125rem] ".concat(S?"text-negative-lighter":b?"text-ui-lighter":"text-white"),children:u})]}),S&&(0,o.jsx)("p",{className:"items-center mb-5 w-full text-10 md:text-12 font-bold text-center text-negative-lighter uppercase",children:S})]})}function p(e){var t=e.variant,n=void 0===t?"primary":t,r=e.name,i=e.id,a=e.onChange,u=void 0===a?function(){}:a,l=e.defaultChecked,d=void 0!==l&&l,f=e.disabled,m=(0,c.useRef)(null),g=(0,s.U$)(r),x=g.fieldName,p=g.registerField,v=(0,c.useState)(!1),b=v[0],k=v[1];return(0,c.useEffect)((function(){p({name:x,ref:m,getValue:function(e){return e.current.checked},setValue:function(e,t){e.current.checked=t},clearValue:function(e){e.current.checked=!1}})}),[x,p]),(0,c.useEffect)((function(){m.current&&(m.current.checked=d,k(d))}),[d]),(0,o.jsx)(h.Z,{ref:m,onChange:function(e){u(e),k(e.target.checked)},checked:b,variant:n,disabled:f,id:i,name:r,onClick:function(){m.current.checked=!m.current.checked}})}},4646:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(85893);function i(e){var t=e.title,n=e.id,i=e.key,a=e.optionClassName,o=e.children;return(0,r.jsxs)("div",{id:n,className:"flex flex-col gap-2",children:[t&&(0,r.jsx)("span",{className:"text-14 font-bold text-ui-white",children:t}),(0,r.jsx)("div",{className:"".concat(a," bg-ui-darker w-full rounded"),children:o})]},i)}},57062:function(e,t,n){"use strict";n.d(t,{H:function(){return C}});var r=n(47568),i=n(26042),a=n(69396),o=n(97582),c=n(85893),u=n(67294),l=n(4298),s=n.n(l),d=n(99318),f=n(60851),h=n(65033),m=n(57779),g=(n(53650),n(15205)),x=n(50101),p=n(43031),v=n(26758),b=n(68239),k=n(30120);function C(e){var t=e.NV99MultiModalPage,n=e.pastPage,l=e.nextPage,C=e.context,y=e.updateContext,N=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.X4,{disabled:{status:!!w&&"disabled-light"},onClick:function(){return n()},color:"dark",size:"medium",className:"h-8",fluidWidth:w?"6.75rem":void 0,children:"Voltar"}),(0,c.jsx)(h.X4,{disabled:{status:!!w&&"disabled-light"},onClick:function(){return _.current.submitForm()},color:B?"primary":"confirmation",size:"medium",className:"h-8",fluidWidth:B?"5.75rem":"9.625rem",children:w?(0,c.jsx)(f.tx,{size:16,color:"white"}):B?"Pr\xf3ximo":"Adicionar cart\xe3o"})]})},_=(0,u.useRef)(),j=(0,u.useState)(!1),w=j[0],P=j[1],Z=(0,u.useState)(""),E=Z[0],L=Z[1],S=(0,u.useState)(""),I=S[0],V=S[1],M=(0,u.useState)(""),F=M[0],R=M[1],A=(0,u.useState)(""),U=A[0],O=A[1],z=(0,g.Z)(),B=(0,u.useMemo)((function(){return!!C.shouldNextAfterCardAdd&&C.shouldNextAfterCardAdd}),[C]),q=(0,u.useMemo)((function(){return C}),[C]).getAuthUser;(0,u.useEffect)((function(){_.current.setFieldValue("save",!0)}),[]);var D=(0,u.useCallback)(function(){var e=(0,r.Z)((function(e){var t;return(0,o.__generator)(this,(function(c){switch(c.label){case 0:return t=e.current.getData(),[4,(0,p.F)(v.o,_,t,(0,r.Z)((function(){var r,c,u,s,d,f,h,m,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(O(""),e.current.setErrors({cardNumber:"",holderName:"",securityCode:"",save:"",standard:""}),!E)return e.current.setFieldError("cardNumber","A data de validade \xe9 obrigat\xf3ria!"),[2];o.label=1;case 1:return o.trys.push([1,5,,6]),r=E.split("/"),c={label:t.label,cardNumber:t.cardNumber.replace(/ /g,""),holderName:t.holderName,securityCode:t.securityCode.replace(/ /g,""),expirationMonth:parseInt(r[0],10),expirationYear:parseInt(k.ou.fromFormat(r[1],4===r[1].length?"yyyy":"yy").toFormat("yyyy"))},t.label||delete c.label,[4,q()];case 2:return[4,(u=o.sent()).getIdToken()];case 3:return[4,x.EY.apply(void 0,[o.sent(),(0,a.Z)((0,i.Z)({},c),{email:u.email})])];case 4:return s=o.sent(),y((function(e){var t;return(0,a.Z)((0,i.Z)({},e),{cart:(0,a.Z)((0,i.Z)({},e.cart),{selectedPaymentMethod:"payment-card-sparks"===(null===e||void 0===e||null===(t=e.cart)||void 0===t?void 0:t.selectedPaymentMethod)?"payment-card-sparks":"payment-card",selectedCreditCard:s})})})),B?l():n(),P(!1),[3,6];case 5:return d=o.sent(),O(null!==(g=null===(f=d.response.data)||void 0===f||null===(h=f.status)||void 0===h||null===(m=h.message)||void 0===m?void 0:m[0])&&void 0!==g?g:"Verifique se h\xe1 documento e endere\xe7o v\xe1lido cadastrado"),P(!1),[3,6];case 6:return[2]}}))})))];case 1:return c.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[E,q,y,B,l,n]);return(0,c.jsx)(t,{heading:"Cadastrar cart\xe3o",footerContent:(0,c.jsx)(N,{}),children:(0,c.jsxs)("div",{children:[(0,c.jsx)(s(),{id:"direct-checkout",src:"https://www.boletobancario.com/boletofacil/wro/direct-checkout.min.js",onLoad:function(){window.directCheckout=new window.DirectCheckout(d.Z.NEXT_PUBLIC_BOLETO_BANCARIO_TOKEN,"PROD"===z)}}),(0,c.jsx)(b.fh,{ref:_,callbacks:{validSubmit:function(){P(!0),D(_)},invalidSubmit:function(){return P(!1)}},schema:v.o,children:(0,c.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[U&&(0,c.jsx)("p",{className:"w-full text-14 text-center text-negative-light",children:U}),(0,c.jsx)(m.tk,{maxLength:25,name:"label",label:"Apelido do cart\xe3o",hideErrorMargin:!0,noLayoutShift:!0,full:!0}),(0,c.jsx)(m.tk,{hideErrorMargin:!0,noLayoutShift:!0,full:!0,name:"holderName",label:"Nome impresso no cart\xe3o"}),(0,c.jsx)(m.UR,{value:F,maxLength:24,onChange:function(e){return R(e.target.value)},name:"cardNumber",label:"N\xfamero do cart\xe3o",hideErrorMargin:!0,noLayoutShift:!0,full:!0}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(m.Yq,{yearLength:7,hideErrorMargin:!0,noLayoutShift:!0,value:E,dateType:"creditCard",onChange:function(e){return L(e.target.value)},name:"expiring_date",label:"Validade"}),(0,c.jsx)(m.Kg,{value:I,maxLength:4,onChange:function(e){return V(e.target.value)},hideErrorMargin:!0,noLayoutShift:!0,name:"securityCode",label:"CVV"})]}),!1]})})]})})}},15205:function(e,t,n){"use strict";var r=n(99318);t.Z=function(){var e;switch(null!==(e=r.Z.NEXT_PUBLIC_AMBIENT)&&void 0!==e?e:r.Z.NEXT_PUBLIC_FIREBASE_PROJECT_ID){case"flowpodcast":return"PROD";case"develop-flowpdc":return"DEV";default:return"LOCAL"}}},26758:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(8486),i=n(30120),a=n(74231),o=a.Ry().shape({cardNumber:a.Z_().transform((function(e){return e||""})).required(r.Ex.requiredField).matches(/^[0-9]*$/,"O n\xfamero de cart\xe3o s\xf3 pode conter n\xfameros").transform((function(e){return e.replaceAll(" ","")})).min(13,"O n\xfamero do cart\xe3o precisa ter pelo menos 13 d\xedgitos!").max(16,"O n\xfamero do cart\xe3o pode no m\xe1ximo conter 16 d\xedgitos!"),holderName:a.Z_().transform((function(e){return e||""})).required(r.Ex.requiredField).max(99,"O nome n\xe3o pode ter mais de 99 caracteres!"),securityCode:a.Z_().transform((function(e){return e||""})).required(r.Ex.requiredField).matches(/^[0-9]*$/,"O CVV s\xf3 pode conter n\xfameros").min(3,"CVV inv\xe1lido").max(4,"CVV inv\xe1lido"),expiring_date:a.Z_().transform((function(e){return e||""})).required(r.Ex.requiredField).test("cardDateValidation","Data inv\xe1lida",(function(e){var t=e.length<7?i.ou.fromFormat(e,"MM/yy"):i.ou.fromFormat(e,"MM/yyyy");return!!(t.year>2e3&&t.year<3e3)&&(!!t.isValid&&!(i.ou.now()>=t))}))})},5490:function(e){e.exports={input:"Input_input__lCn2V",disabled:"Input_disabled__8Fr4a",datePickerDialog:"Input_datePickerDialog__OslVk",icon:"Input_icon__Mv_ZY",checkboxInput:"Input_checkboxInput__Ucn10",error:"Input_error__Dct9S",inputSelectUnderline:"Input_inputSelectUnderline__M65Lz",inputSelectContainer:"Input_inputSelectContainer__1ak91",suggestionList:"Input_suggestionList__LKCrh",toggleCheckbox:"Input_toggleCheckbox__40Izh"}}}]);