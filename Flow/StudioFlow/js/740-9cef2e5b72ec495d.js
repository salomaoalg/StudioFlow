"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{31705:function(e,t,n){n.d(t,{A:function(){return l}});var s=n(85893),r=n(53854),a=n(60465);function l(e){var t=e.onPageClick,n=e.pages,l=e.currentPage,i=e.ignoreShortening,o=void 0!==i&&i;return(0,s.jsxs)("div",{className:"flex gap-2 justify-center items-center w-full max-w-[20.75rem]",children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(r.ldB,{onClick:function(){return t(0)},className:"".concat(0===l?"opacity-0 pointer-events-none":""," text-20 text-ui-lightest cursor-pointer")}),(0,s.jsx)(r.DEl,{onClick:function(){return t(l-1<0?0:l-1)},className:"text-28 text-ui-lightest cursor-pointer select-none"})]}),(0,s.jsx)("div",{className:"flex gap-1",children:!o&&n.slice(l,n.length).length<8&&n.length>8?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"flex justify-center items-end pb-0.5 text-14 font-medium text-white min-w-[1.25rem] h-[1.25rem]",children:"..."}),n.slice(n.length-7,n.length-4).map((function(e){return(0,s.jsx)("div",{onClick:function(){return t(e)},className:"".concat(l===e?"bg-ui-darker":""," rounded cursor-pointer select-none min-w-[1.25rem] h-[1.25rem] flex justify-center items-center"),children:(0,s.jsx)("p",{className:"text-14 font-medium text-white",children:e+1})},"pagination-".concat(e))})),n.slice(-4).map((function(e){return(0,s.jsx)("div",{onClick:function(){return t(e)},className:"".concat(l===e?"bg-ui-darker":""," rounded cursor-pointer select-none min-w-[1.25rem] h-[1.25rem] flex justify-center items-center"),children:(0,s.jsx)("p",{className:"text-14 font-medium text-white",children:e+1})},"pagination-".concat(e))}))]}):!o&&n.length>8?(0,s.jsxs)(s.Fragment,{children:[n.slice((0,a.zd)(l-1,0),l+(0===l?4:3)).map((function(e){return(0,s.jsx)("div",{onClick:function(){return t(e)},className:"".concat(l===e?"bg-ui-darker":""," rounded cursor-pointer select-none min-w-[1.25rem] h-[1.25rem] flex justify-center items-center"),children:(0,s.jsx)("p",{className:"text-14 font-medium text-white",children:e+1})},"pagination-".concat(e))})),(0,s.jsx)("p",{className:"flex justify-center items-end pb-0.5 text-14 font-medium text-white min-w-[1.25rem] h-[1.25rem]",children:"..."}),n.slice(-4).map((function(e){return(0,s.jsx)("div",{onClick:function(){return t(e)},className:"".concat(l===e?"bg-ui-darker":""," rounded cursor-pointer select-none min-w-[1.25rem] h-[1.25rem] flex justify-center items-center"),children:(0,s.jsx)("p",{className:"text-14 font-medium text-white",children:e+1})},"pagination-".concat(e))}))]}):(0,s.jsx)(s.Fragment,{children:n.map((function(e){return(0,s.jsx)("div",{onClick:function(){return t(e)},className:"".concat(l===e?"bg-ui-darker":""," rounded cursor-pointer select-none min-w-[1.25rem] h-[1.25rem] flex justify-center items-center"),children:(0,s.jsx)("p",{className:"text-14 font-medium text-white",children:e+1})},"pagination-".concat(e))}))})}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(r.MOd,{onClick:function(){return t(l+1>n[n.length-1]?l:l+1)},className:"text-28 text-ui-lightest cursor-pointer select-none"}),(0,s.jsx)(r.ilJ,{onClick:function(){return t(n.length-1)},className:"".concat(l===n.length-1?"opacity-0 pointer-events-none":""," text-20 text-ui-lightest cursor-pointer")})]})]})}},54563:function(e,t,n){n.d(t,{hc:function(){return i},sh:function(){return c.s},Oe:function(){return o},Mi:function(){return f}});var s=n(85893),r=n(41664),a=n.n(r),l=n(78519);function i(e){var t=e.src,n=e.code,r=e.secret,i=e.onClick,o=void 0===i?null:i,c=e.redeemed,u=e.value;return(0,s.jsxs)("div",{onClick:o,className:"flex flex-col items-center relative skeletable round aspect-square p-1 gap-4 w-full cursor-pointer select-none rounded-lg ".concat(o?"cursor-pointer":""),children:[r&&(0,s.jsx)("div",{className:"absolute bg-gradient-rarity-lengendary rounded-lg -top-[2px] -left-[2px] w-[calc(100%+4px)] h-[calc(100%+4px)]"}),(0,s.jsx)(a(),{href:"/badge/".concat(n),children:(0,s.jsxs)("a",{className:"contents",children:[(0,s.jsx)("img",{alt:"Emblema: ".concat(n),src:t,title:n,className:"object-cover bg-ui-darkest absolute top-0 left-0 w-full h-full rounded-lg ".concat(c?"":"grayscale")},t),(0,s.jsx)("div",{className:"flex absolute bottom-0 flex-col gap-1 items-center ".concat(u?"px-2.5":"px-1"," w-full bg-ui-black-70 rounded-b-lg py-[0.313rem]"),children:(0,s.jsx)(s.Fragment,{children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(l.sN,{height:14,width:14}),(0,s.jsx)("p",{className:"text-14 font-bold text-golden-base leading-[14px]",children:u})]}),(0,s.jsx)("p",{style:{lineBreak:"anywhere"},className:"text-10 font-bold leading-3 text-white line-clamp-1",children:n})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{className:"py-2 text-12 font-bold text-ui-lightest uppercase",children:"Sem negocia\xe7\xf5es"})})})})]})})]})}function o(e){var t=e.src,n=e.username,r=e.activityTitle,l=e.value,i=e.premium,o=e.onClick,c=void 0===o?null:o;return(0,s.jsxs)("div",{onClick:c,className:"flex flex-col items-center relative skeletable round aspect-square p-1 gap-4 w-full cursor-pointer select-none rounded-lg ".concat(c?"cursor-pointer":""),children:[i&&(0,s.jsx)("div",{className:"absolute bg-gradient-rarity-lengendary rounded-lg -top-[2px] -left-[2px] w-[calc(100%+4px)] h-[calc(100%+4px)]"}),(0,s.jsx)(a(),{href:"/user/".concat(encodeURIComponent(n)),children:(0,s.jsxs)("a",{className:"contents",children:[(0,s.jsx)("img",{alt:"usu\xe1rio: ".concat(n),src:t,title:n,className:"object-cover absolute top-0 left-0 w-full h-full bg-ui-darkest rounded-lg"},t),(0,s.jsx)("div",{className:"flex absolute bottom-0 flex-col gap-1 items-center ".concat(l?"px-2.5":"px-1"," w-full bg-ui-black-70 rounded-b-lg py-[0.313rem]"),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex gap-1 items-center",children:(0,s.jsxs)("p",{className:"text-12 font-bold text-golden-base leading-[14px]",children:[l," ",r]})}),(0,s.jsx)("p",{style:{lineBreak:"anywhere"},className:"text-10 font-bold leading-3 text-white line-clamp-1",children:n})]})})]})})]})}var c=n(65796),u=n(89583),d=n(64050),m=n(45736);function f(e){var t=e.userName,n=e.userPhoto,r=e.badgesCount,l=e.rankPosition,i=e.variation,o=e.isMember,c=void 0!==o&&o,f=e.isUser,x=void 0!==f&&f;return(0,s.jsx)(a(),{href:"/user/".concat(t," "),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer noopener",children:(0,s.jsxs)("div",{className:"flex relative justify-between p-4 w-full bg-ui-darker rounded-none sm:rounded-lg",children:[c&&(0,s.jsx)("div",{className:"absolute top-0 left-0 w-2 h-full bg-gradient-rarity-lengendary rounded-none sm:rounded-tl-full sm:rounded-bl-full"}),(0,s.jsxs)("div",{className:"flex gap-4 max-w-[70%]",children:[(0,s.jsx)("div",{className:"relative ".concat(x?"w-16":"w-14"," rounded-full aspect-square skeletable round-full flex-shrink-0"),children:(0,s.jsx)("img",{title:t,alt:t,className:"object-cover absolute top-0 left-0 w-full h-full rounded-full",src:null!==n&&void 0!==n?n:m.Cg.NV99DefaultUserImage})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,s.jsx)("p",{style:{lineBreak:"anywhere"},className:"text-16 font-bold text-white line-clamp-1 skeletable round",children:t}),(0,s.jsxs)("p",{className:"".concat(r?"text-14":"text-10"," font-medium text-ui-lightest skeletable round"),children:[r&&(0,s.jsxs)(s.Fragment,{children:[r," emblema",r>1||0===r?"s":""]}),!r&&(0,s.jsx)(s.Fragment,{children:"Resgate mais para entrar no ranking"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-center w-[30%]",children:(0,s.jsxs)("div",{className:"flex ".concat(x?"gap-4":"gap-3"," items-center text-golden-base notSkeletable"),children:["number"===typeof l&&l<100&&(0,s.jsx)(d.f,{width:x?void 0:15.2,height:x?void 0:21.97,className:"font-bold text-golden-base"}),(0,s.jsxs)("p",{className:"".concat(x?"text-20":"text-16"," font-bold"),children:["#",l]}),"STABLE"===i&&(0,s.jsx)("p",{className:"text-20 font-bold text-ui-lightest",children:"-"}),"UP"===i&&(0,s.jsx)(u.h3_,{className:"text-20 text-positive-base"}),"DOWN"===i&&(0,s.jsx)(u.sF,{className:"text-20 text-negative-base"})]})})]})})})}},87641:function(e,t,n){n.d(t,{E:function(){return c}});var s=n(85893),r=n(41664),a=n.n(r),l=n(65033),i=n(58385),o=n(78519);function c(e){var t=e.selected,n=(0,i.aC)().atomicAuthUser;return(0,s.jsxs)("div",{className:"flex gap-2 md:gap-5 mt-4 w-full",children:[(0,s.jsx)(a(),{href:"/market",children:(0,s.jsx)(l.vm,{size:"custom",className:"flex justify-center items-center md:py-1.5 md:px-4 w-full md:w-auto h-9 text-14 lg:text-16 font-bold ".concat(1===t?"bg-golden-base":"bg-ui-lighter"," rounded-none md:rounded"),children:"In\xedcio"})}),(0,s.jsx)(a(),{href:"/market/chat",children:(0,s.jsx)(l.vm,{size:"custom",className:"flex justify-center items-center md:py-1.5 md:px-4 w-full md:w-auto h-9 text-14 lg:text-16 font-bold ".concat(5===t?"bg-golden-base":"bg-ui-lighter"," rounded-none md:rounded"),children:"Chat"})}),(0,s.jsx)(a(),{href:"/market/ranking",children:(0,s.jsx)(l.vm,{size:"custom",className:"flex justify-center items-center md:py-1.5 md:px-4 w-full md:w-auto h-9 text-14 lg:text-16 font-bold ".concat(2===t?"bg-golden-base":"bg-ui-lighter"," rounded-none md:rounded"),children:"Ranking de Atividade"})}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.pT,{color:"ui-base",className:"h-9"}),(0,s.jsx)(a(),{href:"/market/history",children:(0,s.jsx)(l.vm,{size:"custom",className:"flex justify-center items-center md:py-1.5 md:px-4 w-full md:w-auto h-9 text-14 lg:text-16 font-bold ".concat(3===t?"bg-golden-base":"bg-ui-lighter"," rounded-none md:rounded"),children:"Minhas solicita\xe7\xf5es"})})]})]})}},64050:function(e,t,n){n.d(t,{f:function(){return a}});var s=n(85893),r=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("path",{d:"M5.16666 2.20003H7.23333V0.133362H5.16666V2.20003ZM9.33333 2.20003V0.133362H11.4V2.20003H9.33333ZM5.16666 10.5334V8.4667H7.23333V10.5334H5.16666ZM13.5 6.36669V4.30003H15.6V6.36669H13.5ZM13.5 10.5334V8.4667H15.6V10.5334H13.5ZM9.33333 10.5334V8.4667H11.4V10.5334H9.33333ZM13.5 2.20003V0.133362H15.6V2.20003H13.5ZM7.23333 4.30003V2.20003H9.33333V4.30003H7.23333ZM1.73333 22.1C1.35555 22.1 1.03888 21.9723 0.783327 21.7167C0.527772 21.4611 0.399994 21.1445 0.399994 20.7667V1.43336C0.399994 1.07781 0.527772 0.772251 0.783327 0.516695C1.03888 0.261139 1.36666 0.133362 1.76666 0.133362C2.14444 0.133362 2.45555 0.261139 2.69999 0.516695C2.94444 0.772251 3.06666 1.07781 3.06666 1.43336V2.20003H5.16666V4.30003H3.06666V6.36669H5.16666V8.4667H3.06666V20.7667C3.06666 21.1445 2.93888 21.4611 2.68333 21.7167C2.42777 21.9723 2.11111 22.1 1.73333 22.1ZM11.4 8.4667V6.36669H13.5V8.4667H11.4ZM7.23333 8.4667V6.36669H9.33333V8.4667H7.23333ZM5.16666 6.36669V4.30003H7.23333V6.36669H5.16666ZM9.33333 6.36669V4.30003H11.4V6.36669H9.33333ZM11.4 4.30003V2.20003H13.5V4.30003H11.4Z",fill:"currentColor"})});function a(e){var t=e.className,n=void 0===t?"text-ui-white":t,a=e.width,l=void 0===a?16:a,i=e.height,o=void 0===i?23:i;return(0,s.jsx)("svg",{className:n,width:l,height:o,viewBox:"0 0 16 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r})}},20740:function(e,t,n){n.r(t),n.d(t,{BattleBadgeCard:function(){return P},default:function(){return z}});var s=n(47568),r=n(14924),a=n(26042),l=n(69396),i=n(828),o=n(97582),c=n(85893),u=n(67294),d=n(9669),m=n.n(d),f=n(11163),x=n(60851),h=n(65033),g=n(28256),p=n(64957),v=n(31705),j=n(57091),b=n(58385),w=n(22377),y=n(54563),N=n(87641),k=n(78519),C=n(55914),Z=n(66979),_=n(33586),B=n(30120),V=n(95591),H=n(49770),S=(function(){var e=(0,s.Z)((function(e){var t,n,s;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:t=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,_.LP)(Z.O,!0)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),console.log(n),[3,4];case 4:return s={headers:{"X-Firebase-AppCheck":null===t||void 0===t?void 0:t.token}},[2,m().get(e,s).then((function(e){return e.data}))]}}))}))}(),function(){var e=(0,s.Z)((function(e){var t,n,s,r,a,l,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:t=(0,i.Z)(e,3),n=t[0],s=t[1],r=t[2],a=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,_.LP)(Z.O,!0)];case 2:return a=o.sent(),[3,4];case 3:return l=o.sent(),console.log(l),[3,4];case 4:return c={headers:{"X-Firebase-AppCheck":null===a||void 0===a?void 0:a.token,Authorization:r&&s?"Bearer ".concat(s):null}},[2,m().get(n,c).then((function(e){return e.data}))]}}))}));return function(t){return e.apply(this,arguments)}}());function F(e){var t,n=e.title,s=e.badges,r=e.threeLineGrid;return(0,c.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,c.jsx)("p",{className:"text-24 font-bold text-white",children:n}),(0,c.jsxs)("div",{className:"".concat(s?"":"skeleton"," grid ").concat(r?"grid-cols-3 lg:grid-cols-6":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 md2:grid-cols-5"," gap-4"),children:[!s&&Array.from({length:12}).map((function(e,t){return(0,c.jsx)(y.hc,{redeemed:!1,secret:!1,src:"",value:0,code:"carregando"},"badge-card-".concat(t))})),s&&s.map((function(e){return(0,c.jsx)(y.hc,{redeemed:e.redeemed,secret:e.secret,src:null!==(t=e.high)&&void 0!==t?t:e.src,value:e.market_value,code:e.code},"badge-".concat(n,"-card-").concat(e.code))}))]})]})}var E=[{title:"Novos no mercado",api:function(e,t){return(0,w.wK)(e,t)}},{title:"Mais negociados",api:function(e,t){return(0,w.aX)(e,t)}},{title:"Anunciados recentemente",api:function(e,t){return(0,w.Zt)("TRADE",e,t)}},{title:"Mais procurados",api:function(e,t){return(0,w.Zt)("OFFER",e,t)}}];function P(e){e.studioIcon,e.studioLabel;var t=e.src,n=e.code,s=e.secret,r=e.losses,a=e.wins,l=e.score;return(0,c.jsxs)("div",{className:"flex relative flex-col gap-4 items-center p-1 w-full rounded-lg cursor-pointer select-none skeletable round aspect-square",children:[!1,s&&(0,c.jsx)("div",{className:"absolute bg-gradient-rarity-lengendary rounded-lg -top-[2px] -left-[2px] w-[calc(100%+4px)] h-[calc(100%+4px)]"}),(0,c.jsxs)("a",{className:"contents",children:[(0,c.jsx)("img",{alt:"Emblema: ".concat(n),src:t,title:n,className:"object-cover absolute top-0 left-0 w-full h-full bg-ui-darkest rounded-lg"},t),(0,c.jsxs)("div",{className:"flex absolute bottom-0 flex-col gap-1 items-center px-2.5 w-full bg-ui-black-70 rounded-b-lg py-[0.313rem]",children:[(0,c.jsx)("div",{className:"flex gap-1 items-center",children:(0,c.jsx)("p",{style:{lineBreak:"anywhere"},className:"text-14 font-bold text-golden-base line-clamp-1 leading-[14px]",children:n})}),(0,c.jsxs)("p",{style:{lineBreak:"anywhere"},className:"text-10 font-bold leading-3 text-white line-clamp-1",children:["Pontua\xe7\xe3o: ",l.toFixed(2)," | KD: ",a,"/",r]})]})]})]})}function M(e){var t=e.updateDailyComplete,n=e.updateDayBoosted,r=e.updateFreeBoosted,a=e.updateIsLoading,l=(0,b.aF)(),i=l.atomicUser,d=l.atomicLoadingSession,m=(0,b.aC)(),f=m.atomicLoadingSession,x=m.atomicAuthUser,h=(0,u.useState)(null),g=h[0],p=h[1],v=(0,u.useState)(!1),j=v[0],w=v[1],y=(0,V.ZP)(d||f||j||!i||!g?null:["https://api.nv99.com.br/v1/main/battle/badges/streak?email=".concat(x.email),g,i],S,{refreshInterval:1e3}),N=y.data,k=y.error,C=y.isLoading,Z=0,_=!1,H=!1,F=!1,E=5,P=B.ou.now().setZone("America/Sao_Paulo").toFormat("dd/MM/yyyy"),M=0;return k?w(!0):N&&(Z=null===N||void 0===N?void 0:N.total_votes,_=null===N||void 0===N?void 0:N.day_complete,H=null===N||void 0===N?void 0:N.day_boosted,F=null===N||void 0===N?void 0:N.free_boosted,E=null===N||void 0===N?void 0:N.objective_of_day,P=null===N||void 0===N?void 0:N.day,M=null===N||void 0===N?void 0:N.days_in_season),(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return x?[4,x.getIdToken()]:[3,2];case 1:e=t.sent(),p(e),w(!1),t.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return e(),function(){console.log("unmount component")}}),[j,x]),(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return x?[4,x.getIdToken()]:[3,2];case 1:e=t.sent(),p(e),t.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return e(),function(){console.log("unmount component")}}),[x]),(0,u.useEffect)((function(){t(_)}),[_,t]),(0,u.useEffect)((function(){n(H)}),[H,n]),(0,u.useEffect)((function(){r(F)}),[F,r]),(0,u.useEffect)((function(){a(C)}),[C,a]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:"text-14 text-ui-light",children:C?"Carregando...":"".concat(Z,"/").concat(E," votos em ").concat(P,".")}),(0,c.jsx)("p",{className:"text-14 text-ui-light",children:C?"Carregando...":"Dias Corridos na Temporada: ".concat(M,".")})]})}function I(e){var t=e.setOpen,n=e.handlePaidBoost;return(0,c.jsxs)("div",{className:"flex flex-col-reverse md:flex-row gap-2 md:gap-1 w-full md:w-auto",children:[(0,c.jsx)(h.X4,{fluidWidth:"6.146rem",onClick:function(){t(!1)},disabled:{status:!1},color:"dark",children:"Cancelar"}),(0,c.jsx)(h.X4,{fluidWidth:"10.775rem",onClick:function(){n()},disabled:{status:!1},color:"confirmation",children:"Comprar Boost"})]})}function A(e){var t=e.open,n=e.setOpen,s=e.handlePaidBoost;return(0,c.jsx)(p.n,{setOpen:function(e){n(e)},open:t,maxWidthInRem:32.25,footerContent:(0,c.jsx)(I,{setOpen:n,handlePaidBoost:s}),children:(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsx)("p",{className:"text-16 font-bold text-white",children:"Comprar Boost Di\xe1rio"}),(0,c.jsx)("div",{className:"flex gap-3",children:(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsx)("p",{className:"text-12 leading-6 text-white",children:"50 Sparks ser\xe3o utilizadas de seu saldo!"}),(0,c.jsx)("p",{className:"text-12 leading-6 text-white",children:"Voc\xea est\xe1 prester \xe0 realizar uma a\xe7\xe3o que n\xe3o poder\xe1 ser desfeita, gostaria de prosseguir?"})]})})]})})}function T(){var e=(0,g.T)().handleToast,t=(0,b.aF)(),n=t.atomicUser,r=t.atomicLoadingSession,i=(0,b.aC)(),d=i.atomicLoadingSession,m=i.atomicAuthUser,f=(0,u.useState)(!1),p=f[0],v=f[1],y=(0,u.useState)(!1),N=y[0],C=y[1],Z=(0,u.useState)(!1),_=Z[0],V=Z[1],F=(0,u.useState)(!1),E=F[0],I=F[1],T=(0,u.useState)(!1),z=T[0],L=T[1],O=(0,u.useState)(!0),D=O[0],U=O[1],R=(0,u.useState)(!1),W=R[0],X=R[1],G=(0,u.useState)(!1),q=G[0],K=G[1],J=(0,u.useState)(null),Y=J[0],$=J[1],Q=(0,H.Z)(r||d||q||z||!n||!Y?null:["https://api.nv99.com.br/v1/main/battle/badges?email=".concat(m.email),Y,n],S),ee=Q.data,te=Q.error,ne=Q.isLoading,se=Q.isValidating,re=Q.mutate,ae=[];te||ee&&(ae=null===ee||void 0===ee?void 0:ee.battle);var le,ie=function(){var t=(0,s.Z)((function(t){var n,s,r,i,c,u,d,f,x,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(L(!0),n=null,ae.length>0){s=!0,r=!1,i=void 0;try{for(c=ae[Symbol.iterator]();!(s=(u=c.next()).done);s=!0)(d=u.value).id!==t&&(n=d.id)}catch(g){r=!0,i=g}finally{try{s||null==c.return||c.return()}finally{if(r)throw i}}}return f=[m.email],[4,m.getIdToken()];case 1:return[4,w.m$.apply(void 0,f.concat(o.sent(),{winner:t,loser:n}))];case 2:return o.sent(),h=[m.email],[4,m.getIdToken()];case 3:return[4,w.lG.apply(void 0,h.concat(o.sent()))];case 4:return x=o.sent(),re((0,l.Z)((0,a.Z)({},ee),{battle:x.battle})),e("Voto Registrado. ".concat(p?"Voc\xea atingiu sua meta de votos por dia!":"Progress\xe3o de XP em andamento"),"confirmation"),L(!1),[2]}}))}));return function(e){return t.apply(this,arguments)}}(),oe=function(){var t=(0,s.Z)((function(){var t,n,s,r,a,l,i,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:X(!0),o.label=1;case 1:return o.trys.push([1,4,,5]),t=[m.email],[4,m.getIdToken()];case 2:return[4,w.p1.apply(void 0,t.concat(o.sent()))];case 3:return o.sent(),V(!0),e("Boost Di\xe1rio Gr\xe1tis ativado at\xe9 ".concat(B.ou.now().plus({minutes:15}).setZone("America/Sao_Paulo").toFormat("HH:mm")),"confirmation"),X(!1),[3,5];case 4:return n=o.sent(),console.log(n),(null===n||void 0===n||null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r||null===(a=r.status)||void 0===a?void 0:a.message.length)>0?e(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.data)||void 0===i||null===(c=i.status)||void 0===c?void 0:c.message[0],"error"):e("Erro ao utilizar Boost Gr\xe1tis","error"),X(!1),[3,5];case 5:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=(0,s.Z)((function(){var t,n,s,r,a,l,i,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:X(!0),I(!1),o.label=1;case 1:return o.trys.push([1,4,,5]),t=[m.email],[4,m.getIdToken()];case 2:return[4,w.Ll.apply(void 0,t.concat(o.sent()))];case 3:return o.sent(),C(!0),e("Boost Di\xe1rio Gr\xe1tis ativado at\xe9 ".concat(B.ou.now().plus({minutes:30}).setZone("America/Sao_Paulo").toFormat("HH:mm")),"confirmation"),X(!1),[3,5];case 4:return n=o.sent(),console.log(n),(null===n||void 0===n||null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r||null===(a=r.status)||void 0===a?void 0:a.message.length)>0?e(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.data)||void 0===i||null===(c=i.status)||void 0===c?void 0:c.message[0],"error"):e("Erro ao utilizar Boost Pago","error"),X(!1),[3,5];case 5:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),ue=function(){var t=(0,s.Z)((function(){var t,n,s,r,i,c,u,d,f,x;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:X(!0),o.label=1;case 1:return o.trys.push([1,6,,7]),t=[m.email],[4,m.getIdToken()];case 2:return[4,w.xh.apply(void 0,t.concat(o.sent()))];case 3:return o.sent(),s=[m.email],[4,m.getIdToken()];case 4:return[4,w.lG.apply(void 0,s.concat(o.sent()))];case 5:return n=o.sent(),re((0,l.Z)((0,a.Z)({},ee),{battle:n.battle})),e("Atualizando Batalha","confirmation"),X(!1),[3,7];case 6:return r=o.sent(),console.log(r),(null===r||void 0===r||null===(i=r.response)||void 0===i||null===(c=i.data)||void 0===c||null===(u=c.status)||void 0===u?void 0:u.message.length)>0?e(null===r||void 0===r||null===(d=r.response)||void 0===d||null===(f=d.data)||void 0===f||null===(x=f.status)||void 0===x?void 0:x.message[0],"error"):e("Erro ao pular batalha","error"),X(!1),[3,7];case 7:return[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return m?[4,m.getIdToken()]:[3,2];case 1:e=t.sent(),$(e),K(!1),t.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return e(),function(){console.log("unmount component")}}),[q,m]),(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return m?[4,m.getIdToken()]:[3,2];case 1:e=t.sent(),$(e),t.label=2;case 2:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return e(),function(){console.log("unmount component")}}),[m]),(0,c.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,c.jsx)("p",{className:"text-24 font-bold text-white",children:"Batalha de Emblemas"}),(0,c.jsx)("p",{className:"text-14 text-ui-light",children:"Escolha seu emblema favorito entre as duas op\xe7\xf5es abaixo"}),(0,c.jsx)(M,{updateDailyComplete:function(e){return v(e)},updateDayBoosted:function(e){return C(e)},updateFreeBoosted:function(e){return V(e)},updateIsLoading:function(e){return U(e)}}),(0,c.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center",children:[(0,c.jsx)("div",{className:"text-14 text-ui-light",children:D?"Carregando...":"Boost Gr\xe1tis: ".concat(_?"Utilizado":"N\xe3o utilizado")}),(0,c.jsx)("div",{className:"text-14 text-ui-light",children:D?"Carregando...":"Boost Pago: ".concat(N?"Utilizado":"N\xe3o utilizado")})]}),(0,c.jsxs)("div",{className:"".concat(ne||se||z?"skeleton":""," grid grid-cols-2 px-0 lg:px-32 gap-4 mt-2"),children:[(ne||se||z)&&Array.from({length:2}).map((function(e,t){return(0,c.jsx)(P,{secret:!1,src:"",losses:0,wins:0,score:0,code:"carregando"},"badge-card-".concat(t))})),!z&&ae.length>0&&ae.map((function(e){return(0,c.jsx)("div",{onClick:function(){return ie(e.id)},children:(0,c.jsx)(P,{losses:e.losses,wins:e.wins,score:e.score,secret:e.secret,src:null!==(le=e.high)&&void 0!==le?le:e.src,code:e.code})},"badge-battle-card-".concat(e.code))}))]}),!D&&(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center py-2",children:[_&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"text-16 font-bold text-center text-white",children:"Boost Di\xe1rio"}),(0,c.jsx)("div",{className:"text-12 leading-3 text-center text-ui-light",children:"Por 50 Sparks seu voto vale o dobro por 30 minutos"}),(0,c.jsx)("div",{className:"text-12 leading-3 text-center text-ui-light",children:"Limitado em 1 Boost por dia."})]}),(0,c.jsxs)("div",{className:"flex flex-col lg:flex-row gap-2 py-2 px-4",children:[!_&&(0,c.jsxs)(h.X4,{onClick:function(){return oe()},style:{justifyContent:"center",display:"flex",gap:"0.60rem"},disabled:{status:!!W&&"disabled-light"},color:"darkest",fluidWidth:"14rem",children:[(0,c.jsx)(k.sN,{})," ",W?(0,c.jsx)(x.tx,{color:"white",size:14}):"Boost Gr\xe1tis"]}),_&&(0,c.jsxs)(c.Fragment,{children:[!N&&(0,c.jsxs)(h.X4,{onClick:function(){return I(!0)},style:{justifyContent:"center",display:"flex",gap:"0.60rem"},disabled:{status:!!W&&"disabled-light"},color:"confirmation",fluidWidth:"13rem",children:[(0,c.jsx)(k.sN,{})," ",W?(0,c.jsx)(x.tx,{color:"white",size:14}):"Comprar"]}),N&&(0,c.jsx)(j.vU,{topOffset:50,classname:"w-full max-w-[13.813rem]",visible:!0,text:"Voc\xea j\xe1 utilizou seu boost di\xe1rio.",children:(0,c.jsxs)(h.X4,{fluidWidth:"13rem",disabled:{status:"disabled-light"},style:{justifyContent:"center",display:"flex",gap:"0.60rem"},color:"confirmation",children:[(0,c.jsx)(k.sN,{})," Comprar"]})})]}),(0,c.jsx)(j.vU,{topOffset:50,classname:"w-full max-w-[13.813rem]",visible:!0,text:"Usaremos 10 Sparks do seu saldo se dispon\xedvel.",children:(0,c.jsxs)(h.X4,{fluidWidth:"13rem",onClick:function(){return ue()},disabled:{status:!!W&&"disabled-light"},style:{justifyContent:"center",display:"flex",gap:"0.60rem"},color:"darkest-plus",children:[(0,c.jsx)(k.sN,{})," ",W?(0,c.jsx)(x.tx,{color:"white",size:14}):"Pular Batalha"]})})]})]}),(0,c.jsx)(A,{open:E,setOpen:function(e){return I(e)},handlePaidBoost:function(){return ce()}})]})}function z(){var e=(0,f.useRouter)(),t=(0,b.aC)(),n=t.atomicLoadingSession,i=t.atomicAuthUser,d=(0,u.useState)(),m=d[0],h=d[1],g=(0,u.useState)(!1),p=g[0],j=g[1],w=(0,u.useState)(!0),Z=w[0],_=w[1],B=(0,u.useState)(0),V=B[0],H=B[1],S=(0,u.useCallback)((function(e){e&&(_(!1),H(0))}),[]),P=(0,u.useCallback)((function(e){var t;_((null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.length)<=0)}),[]),M=(0,u.useCallback)((0,s.Z)((function(){return(0,o.__generator)(this,(function(e){return E.forEach(function(){var e=(0,s.Z)((function(e){var t,n,s,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=e.api,n=e.title,s=[null===i||void 0===i?void 0:i.email],i?[4,i.getIdToken()]:[3,2];case 1:return c=o.sent(),[3,3];case 2:c=void 0,o.label=3;case 3:return t.apply(void 0,s.concat(c)).then((function(e){return h((function(t){return(0,l.Z)((0,a.Z)({},t),(0,r.Z)({},n,e))}))})).catch((function(){return h((function(e){return(0,l.Z)((0,a.Z)({},e),(0,r.Z)({},n,[]))}))})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),[2]}))})),[i]);return(0,u.useEffect)((function(){n||!Z&&0!==Object.keys(e.query).length||(j(!0),M())}),[i,M,Z,n,e.query]),(0,c.jsx)(C.Kp,{staticBanner:!0,showBanner:!0,fullHeight:n,title:"Mercado de emblemas",context:"user",navContext:"Mercado",children:(0,c.jsx)(y.sh,{onBadgesLoaded:P,onLoadingStateChange:S,availableFilters:["SHOW-FIRST","PRICE","RARITY","SHOW","STUDIO"],children:function(e){var t,n,s,r=e.MobileFilterButton,a=e.resultingBadges,l=e.loading;return(0,c.jsx)("div",{className:"flex flex-col gap-10 w-full",children:(0,c.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,c.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap gap-4 justify-between w-full",children:[(0,c.jsx)("div",{className:"flex gap-2 md:gap-5 w-full",children:(0,c.jsx)(N.E,{selected:1})}),(0,c.jsx)("div",{className:"flex md:hidden justify-end w-full",children:r})]}),(0,c.jsx)(k.EL,{color:"ui-base"}),(0,c.jsx)("div",{className:"flex flex-col gap-10 px-3 lg:px-0 w-full h-full",children:l?(0,c.jsx)("div",{className:"flex justify-center items-center w-full h-full",children:(0,c.jsx)(x.Zi,{size:128})}):(0,c.jsxs)(c.Fragment,{children:[i&&(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.length)<=0&&p&&(0,c.jsx)(T,{}),(null===a||void 0===a||null===(n=a[0])||void 0===n?void 0:n.length)<=0&&p&&E.map((function(e){var t=e.title;return(0,c.jsx)(F,{badges:null===m||void 0===m?void 0:m[t],title:t},"rendered-badge-".concat(t))})),!Z&&a&&(null===a||void 0===a||null===(s=a[0])||void 0===s?void 0:s.length)>=0&&!l&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex flex-col gap-10 w-full",children:[(0,c.jsx)(F,{badges:a[V],threeLineGrid:!0,title:"Emblemas"}),(0,c.jsx)("div",{className:"flex justify-center w-full",children:(0,c.jsx)(v.A,{currentPage:V,pages:Array.from(Array(a.length).keys()),onPageClick:function(e){return H(e)}})})]})})]})})]})})}})})}},49770:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(95591);const r=(0,n(11753).xD)(s.ZP,(e=>(t,n,s)=>(s.revalidateOnFocus=!1,s.revalidateIfStale=!1,s.revalidateOnReconnect=!1,e(t,n,s))))}}]);